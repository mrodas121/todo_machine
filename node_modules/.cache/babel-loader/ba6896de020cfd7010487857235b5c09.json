{"ast":null,"code":"import _slicedToArray from\"C:/repos/Nueva carpeta/todo_machine/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import react from\"react\";import{useState,useEffect}from\"react\";function useLocalStorage(itemName,initialValue){var _useState=useState(initialValue),_useState2=_slicedToArray(_useState,2),item=_useState2[0],setItem=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];useEffect(function(){setTimeout(function(){try{var localStorageItem=localStorage.getItem(itemName);var parsedItem;if(!localStorageItem){localStorage.setItem(itemName,JSON.stringify(initialValue));parsedItem=initialValue;}else{parsedItem=JSON.parse(localStorageItem);}setItem(parsedItem);setLoading(false);}catch(_unused){setLoading(false);setError(true);}},10000);});var saveItem=function saveItem(newItem){try{var stringFiledItem=JSON.stringify(newItem);localStorage.setItem(itemName,stringFiledItem);setItem(newItem);}catch(_unused2){setError(true);}};return{item:item,saveItem:saveItem,loading:loading,error:error};}export default useLocalStorage;","map":{"version":3,"sources":["C:/repos/Nueva carpeta/todo_machine/src/TodoContext/useLocalStorage.js"],"names":["react","useState","useEffect","useLocalStorage","itemName","initialValue","item","setItem","loading","setLoading","error","setError","setTimeout","localStorageItem","localStorage","getItem","parsedItem","JSON","stringify","parse","saveItem","newItem","stringFiledItem"],"mappings":"0JAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,QAAR,CAAkBC,SAAlB,KAAkC,OAAlC,CAEA,QAASC,CAAAA,eAAT,CAAyBC,QAAzB,CAAmCC,YAAnC,CAAgD,CAC5C,cAAwBJ,QAAQ,CAACI,YAAD,CAAhC,wCAAOC,IAAP,eAAaC,OAAb,eACA,eAA8BN,QAAQ,CAAC,IAAD,CAAtC,yCAAOO,OAAP,eAAgBC,UAAhB,eACA,eAA0BR,QAAQ,CAAC,KAAD,CAAlC,yCAAOS,KAAP,eAAcC,QAAd,eACAT,SAAS,CACP,UAAI,CACFU,UAAU,CAAC,UAAM,CACf,GAAG,CACD,GAAMC,CAAAA,gBAAgB,CAAGC,YAAY,CAACC,OAAb,CAAqBX,QAArB,CAAzB,CACA,GAAIY,CAAAA,UAAJ,CACA,GAAG,CAACH,gBAAJ,CAAqB,CACnBC,YAAY,CAACP,OAAb,CAAqBH,QAArB,CAA8Ba,IAAI,CAACC,SAAL,CAAeb,YAAf,CAA9B,EACAW,UAAU,CAAGX,YAAb,CACD,CAHD,IAGK,CACHW,UAAU,CAAGC,IAAI,CAACE,KAAL,CAAWN,gBAAX,CAAb,CACD,CACDN,OAAO,CAACS,UAAD,CAAP,CACAP,UAAU,CAAC,KAAD,CAAV,CACD,eAAK,CACJA,UAAU,CAAC,KAAD,CAAV,CACAE,QAAQ,CAAC,IAAD,CAAR,CACD,CACF,CAhBS,CAgBP,KAhBO,CAAV,CAiBD,CAnBM,CAAT,CAqBA,GAAMS,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,OAAD,CAAY,CAC3B,GAAG,CACD,GAAMC,CAAAA,eAAe,CAAGL,IAAI,CAACC,SAAL,CAAeG,OAAf,CAAxB,CACAP,YAAY,CAACP,OAAb,CAAqBH,QAArB,CAA+BkB,eAA/B,EACAf,OAAO,CAACc,OAAD,CAAP,CACD,gBAAK,CACJV,QAAQ,CAAC,IAAD,CAAR,CACD,CACF,CARD,CAUA,MAAM,CACJL,IAAI,CAAJA,IADI,CAEJc,QAAQ,CAARA,QAFI,CAGJZ,OAAO,CAAPA,OAHI,CAIJE,KAAK,CAALA,KAJI,CAAN,CAMD,CAED,cAAeP,CAAAA,eAAf","sourcesContent":["import react from \"react\";\r\nimport {useState, useEffect} from \"react\";\r\n\r\nfunction useLocalStorage(itemName, initialValue){\r\n    const [item, setItem] = useState(initialValue);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(false);\r\n    useEffect(\r\n      ()=>{\r\n        setTimeout(() => {\r\n          try{\r\n            const localStorageItem = localStorage.getItem(itemName);\r\n            let parsedItem;\r\n            if(!localStorageItem){\r\n              localStorage.setItem(itemName,JSON.stringify(initialValue));\r\n              parsedItem = initialValue;\r\n            }else{\r\n              parsedItem = JSON.parse(localStorageItem);\r\n            }\r\n            setItem(parsedItem);\r\n            setLoading(false);\r\n          }catch{\r\n            setLoading(false);\r\n            setError(true);\r\n          }\r\n        }, 10000);\r\n      });\r\n  \r\n    const saveItem = (newItem) =>{\r\n      try{\r\n        const stringFiledItem = JSON.stringify(newItem);\r\n        localStorage.setItem(itemName, stringFiledItem);\r\n        setItem(newItem);\r\n      }catch{\r\n        setError(true);\r\n      }\r\n    };\r\n  \r\n    return{\r\n      item,\r\n      saveItem,\r\n      loading,\r\n      error\r\n    };\r\n  }\r\n\r\n  export default useLocalStorage;"]},"metadata":{},"sourceType":"module"}