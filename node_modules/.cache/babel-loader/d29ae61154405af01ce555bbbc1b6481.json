{"ast":null,"code":"import _toConsumableArray from\"C:/repos/Nueva carpeta/todo_machine/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/repos/Nueva carpeta/todo_machine/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{createContext,useState}from\"react\";import useLocalStorage from\"./useLocalStorage\";import{jsx as _jsx}from\"react/jsx-runtime\";var TodoContext=/*#__PURE__*/createContext();function TodoProvider(props){var _useLocalStorage=useLocalStorage('TODOS_V2',[]),todos=_useLocalStorage.item,saveTodos=_useLocalStorage.saveItem,loading=_useLocalStorage.loading,error=_useLocalStorage.error;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchValue=_useState2[0],setSearchValue=_useState2[1];var completedTodos=todos.filter(function(todo){return!!todo.completed;}).length;var totalTodos=todos.length;var searchedTodos=[];if(!searchValue.length>=1){searchedTodos=todos;}else{var searchText=searchValue.toLocaleLowerCase();searchedTodos=todos.filter(function(todo){var todoText=todo.text.toLocaleLowerCase();return todoText.includes(searchText);});}var completeTodo=function completeTodo(text){var textLower=text.toLocaleLowerCase();var todoIndex=todos.findIndex(function(todo){return todo.text.toLocaleLowerCase()===textLower;});var newTodos=_toConsumableArray(todos);newTodos[todoIndex].completed=true;saveTodos(newTodos);};var deleteTodo=function deleteTodo(text){var textLower=text.toLocaleLowerCase();var todoIndex=todos.findIndex(function(todo){return todo.text.toLocaleLowerCase()===textLower;});var newTodos=_toConsumableArray(todos);newTodos.splice(todoIndex,1);saveTodos(newTodos);};var addTodo=function addTodo(text){var newTodos=_toConsumableArray(todos);newTodos.push({completed:false,text:text});saveTodos(newTodos);};var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),openModal=_useState4[0],setOpenModal=_useState4[1];return/*#__PURE__*/_jsx(TodoContext.Provider,{value:{loading:loading,completedTodos:completedTodos,totalTodos:totalTodos,searchValue:searchValue,setSearchValue:setSearchValue,searchedTodos:searchedTodos,completeTodo:completeTodo,deleteTodo:deleteTodo,error:error,openModal:openModal,setOpenModal:setOpenModal,addTodo:addTodo},children:props.children});}export{TodoContext,TodoProvider};","map":{"version":3,"sources":["C:/repos/Nueva carpeta/todo_machine/src/TodoContext/Index.js"],"names":["React","createContext","useState","useLocalStorage","TodoContext","TodoProvider","props","todos","item","saveTodos","saveItem","loading","error","searchValue","setSearchValue","completedTodos","filter","todo","completed","length","totalTodos","searchedTodos","searchText","toLocaleLowerCase","todoText","text","includes","completeTodo","textLower","todoIndex","findIndex","newTodos","deleteTodo","splice","addTodo","push","openModal","setOpenModal","children"],"mappings":"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","sourcesContent":["import React, { createContext, useState } from \"react\";\r\nimport useLocalStorage from \"./useLocalStorage\";\r\n\r\nconst TodoContext = createContext();\r\n\r\nfunction TodoProvider(props) {\r\n\r\n    const {item:todos, saveItem: saveTodos, loading, error} = useLocalStorage('TODOS_V2',[]);\r\n    const [searchValue, setSearchValue] = useState('');\r\n    const completedTodos = todos.filter(todo => !!todo.completed).length;\r\n    const totalTodos = todos.length;\r\n    let searchedTodos = [];\r\n  \r\n    if(!searchValue.length >= 1){\r\n      searchedTodos = todos;\r\n    }else{\r\n  \r\n      const searchText = searchValue.toLocaleLowerCase();\r\n      searchedTodos = todos.filter(todo =>{\r\n        const todoText = todo.text.toLocaleLowerCase();\r\n        return todoText.includes(searchText);\r\n      })\r\n    }\r\n  \r\n    const completeTodo = (text)=>{\r\n      const textLower = text.toLocaleLowerCase();\r\n      const todoIndex = todos.findIndex(todo => todo.text.toLocaleLowerCase() === textLower);\r\n      const newTodos =[...todos];\r\n      newTodos[todoIndex].completed = true;\r\n      saveTodos(newTodos);\r\n    }\r\n  \r\n    const deleteTodo = (text)=>{\r\n      const textLower = text.toLocaleLowerCase();\r\n      const todoIndex = todos.findIndex(todo => todo.text.toLocaleLowerCase() === textLower);\r\n      const newTodos =[...todos];\r\n      newTodos.splice(todoIndex, 1);\r\n      saveTodos(newTodos);\r\n    }    \r\n\r\n    const addTodo = (text) =>{\r\n      const newTodos = [...todos];\r\n      newTodos.push({\r\n        completed: false,\r\n        text: text,\r\n      });\r\n      saveTodos(newTodos);\r\n    }\r\n\r\n    const [openModal, setOpenModal] = useState(false);\r\n    return(\r\n        <TodoContext.Provider value={{\r\n            loading,\r\n            completedTodos,\r\n            totalTodos,\r\n            searchValue ,\r\n            setSearchValue ,\r\n            searchedTodos ,\r\n            completeTodo,\r\n            deleteTodo,\r\n            error,\r\n            openModal,\r\n            setOpenModal,\r\n            addTodo,\r\n        }}>\r\n            {props.children}\r\n        </TodoContext.Provider>\r\n    );\r\n}\r\n\r\nexport {TodoContext, TodoProvider};"]},"metadata":{},"sourceType":"module"}